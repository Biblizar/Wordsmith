!function(e){function t(t){for(var a,l,u=t[0],c=t[1],i=t[2],d=0,f=[];d<u.length;d++)l=u[d],n[l]&&f.push(n[l][0]),n[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,u=1;u<r.length;u++){var c=r[u];0!==n[c]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=r[0]))}return e}var a={},n={0:0},o=[];function l(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=a,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=c;o.push([315,1]),r()}({125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendReset=t.toggleDrawPicker=t.disableButton=t.drawingColor=t.receiveDrawing=t.resetDrawing=t.shareDrawing=t.SEND_RESET=t.RECEIVE_DRAWING=t.SHARE_DRAWING=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(284),o={drawColor:"#f44336",drawing:!1,eventStore:new n.EventStore,eventStream:new n.EventStream,drawPicker:!1,boardAvailable:!1},l=t.SHARE_DRAWING="SHARE_DRAWING",u=t.RECEIVE_DRAWING="RECEIVE_DRAWING",c=t.SEND_RESET="SEND_RESET";t.shareDrawing=function(){return{type:l}},t.resetDrawing=function(){return{type:"RESET_DRAWING"}},t.receiveDrawing=function(e){return{type:u,drawingStore:e}},t.drawingColor=function(e){return{type:"DRAWING_COLOR",value:e}},t.disableButton=function(){return{type:"DISABLE_BUTTON"}},t.toggleDrawPicker=function(){return{type:"TOGGLE_DRAW_PICKER"}},t.sendReset=function(){return{type:c}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:var r=t.drawingStore,l=e.eventStore;return l.goodEvents=r,console.log("board ?",e.boardAvailable),a({},e,{boardAvailable:!0,eventStore:l});case"DRAWING_COLOR":return a({},e,{drawColor:t.value});case"TOGGLE_DRAW_PICKER":return a({},e,{drawPicker:!e.drawPicker});case"RESET_DRAWING":return a({},e,{eventStore:new n.EventStore,eventStream:new n.EventStream});case"DISABLE_BUTTON":return a({},e,{boardAvailable:!1});default:return e}}},126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n={diceValue:"",rolled:"",rollHistory:[]},o=t.ROLL_DICE="ROLL_DICE",l=t.SHARE_DICE="SHARE_DICE";t.rollDice=function(e,t){return{type:o,dice:e,critic:t}},t.diceChange=function(e){return{type:"DICE_CHANGE",value:e}},t.diceShare=function(){return{type:l}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return a({},e,{rolled:t.dice,diceCritic:t.critic});case"DICE_CHANGE":return a({},e,{diceValue:t.value});case l:return a({},e,{diceValue:""});default:return e}}},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n={dice:!0,sheet:!1,help:!1};t.doSomething=function(){return{type:"DO_SOMETHING"}},t.showDice=function(){return{type:"SHOW_DICE"}},t.showSheet=function(){return{type:"SHOW_SHEET"}},t.showHelp=function(){return{type:"SHOW_HELP"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"DO_SOMETHING":return a({},e);case"SHOW_DICE":return a({},e,{dice:!0,sheet:!1});case"SHOW_SHEET":return a({},e,{dice:!1,sheet:!0});case"SHOW_HELP":return a({},e,{help:!e.help});default:return e}}},189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMessage=t.addMessage=t.changeInput=t.ADD_MESSAGE=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};(function(e){e&&e.__esModule})(r(295)),r(126);var n={message:"",messages:[]},o=t.ADD_MESSAGE="ADD_MESSAGE";t.changeInput=function(e){return{type:"INPUT_CHANGE",message:e}},t.addMessage=function(){return{type:o}},t.receiveMessage=function(e){return{type:"MESSAGE_RECEIVED",message:e.message,id:e.id,author:e.author,dice:e.dice,diceValue:e.diceValue,critic:e.diceCritic}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"INPUT_CHANGE":return a({},e,{message:t.message});case o:return a({},e,{message:""});case"MESSAGE_RECEIVED":var r={id:t.id,author:t.author,message:t.message,dice:t.dice,diceValue:t.diceValue,critic:t.critic};return a({},e,{messages:[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.messages),[r])});default:return e}}},315:function(e,t,r){r(316),e.exports=r(323)},316:function(e,t,r){},323:function(e,t,r){"use strict";r(324);var a=i(r(2)),n=r(37),o=r(32),l=i(r(536)),u=i(r(892)),c=r(92);function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.createElement(o.Provider,{store:u.default},a.default.createElement(l.default,null));(0,n.render)(s,document.getElementById("root")),u.default.dispatch((0,c.websocketConnect)())},536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(2));r(537);var n=s(r(539)),o=s(r(798)),l=s(r(867)),u=s(r(871)),c=s(r(875)),i=s(r(889));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",{id:"app"},a.default.createElement(n.default,null),a.default.createElement(o.default,null),a.default.createElement(c.default,null),a.default.createElement(i.default,null),a.default.createElement(l.default,null),a.default.createElement(u.default,null))}},537:function(e,t,r){},539:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(540)),o=r(79),l=r(125);var u=(0,a.connect)(function(e){return{isBoard:e.gameScreen.isBoard,isMap:e.gameScreen.isMap,map:e.gameScreen.map,grid:e.gameScreen.grid,characters:e.gameScreen.characters,isSlided:e.gameScreen.isSlided,role:e.user.role,drawColor:e.board.drawColor,drawPicker:e.board.drawPicker,help:e.actionBar.help}},function(e){return{toggleScreen:function(){e((0,o.toggleScreen)())},togglePicker:function(){e((0,l.toggleDrawPicker)())},handleSlide:function(){e((0,o.handleSlide)())},shareDrawing:function(){e((0,l.shareDrawing)())},sendReset:function(){e((0,l.sendReset)())},onChangeColor:function(t){e((0,l.drawingColor)(t))}}})(n.default);t.default=u},540:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=h(r(2)),l=h(r(3)),u=h(r(12)),c=r(77),i=r(234),s=h(r(78)),d=h(r(706)),f=h(r(713)),p=h(r(788)),m=h(r(792));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(796);var v=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.shouldComponentUpdate=function(e,t){return console.log("CSU CSU CSU",e,t),!0},a.changeColor=function(e){var t=a.props,r=t.onChangeColor,n=t.togglePicker;r(e.hex),n()},g(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("gameScreen loaded")}},{key:"render",value:function(){var e=this.props,t=e.toggleScreen,r=e.isBoard,n=e.map,l=e.isMap,h=e.grid,g=e.characters,v=e.handleSlide,E=e.isSlided,b=e.role,y=e.shareDrawing,_=e.drawColor,w=e.togglePicker,S=e.drawPicker,O=e.help,C=e.sendReset,N=(0,u.default)("screen-switch",{"screen-switch--active":E,"screen-switch--notAMj":"dm"!==b}),P=(0,u.default)("screen-switch-arrow",{"screen-switch-arrow--board":r||"dm"!==b});return o.default.createElement("div",{className:"screen"},o.default.createElement("div",{className:N},l&&o.default.createElement("div",{className:"screen-switch-form"},o.default.createElement(f.default,null),"dm"===b&&o.default.createElement(p.default,null)),r&&o.default.createElement("div",null,o.default.createElement("button",{type:"button",className:"screen-switch-button",onClick:t},"Switch to Map"),"dm"===b&&o.default.createElement("div",{className:"screen-switch-board"},o.default.createElement("button",{type:"button",className:"screen-switch-share",onClick:y},"Share Board"),o.default.createElement("div",{className:"screen-switch-icons"},o.default.createElement(c.FaPalette,{className:"screen-switch-icon",style:{color:_},onClick:w}),o.default.createElement(c.FaTimesCircle,{onClick:C,style:{color:_},className:"screen-switch-icon"}))),S&&o.default.createElement("div",null,o.default.createElement("span",{className:"screen-switch-span"},"Choose color :"),o.default.createElement(i.CirclePicker,{className:"screen-switch-picker",color:_,circleSize:17,circleSpacing:8,width:"180px",onChange:this.changeColor,triangle:"hide"}))),E?o.default.createElement(c.FaAngleDoubleLeft,{className:P,onClick:v}):o.default.createElement(c.FaAngleDoubleRight,{className:P,onClick:v})),l&&o.default.createElement("div",{className:"screen-map"},O&&o.default.createElement("div",{className:"toolTip"},o.default.createElement(c.FaQuestionCircle,{"data-tip":"Gamescreen-tooltip","data-for":"Gamescreen-tooltip",className:"question"}),o.default.createElement(s.default,{id:"Gamescreen-tooltip",place:"left",type:"dark",effect:"float",border:!0},o.default.createElement("p",{className:"question-text"},"Déplacements :"),o.default.createElement("ul",{className:"question-ul"},o.default.createElement("li",{className:"question-ul-li"},"Vous pouvez déplacez vos pions sur la map pour faire savoir à vos compagnons où vous vous rendez"),o.default.createElement("li",{className:"question-ul-li"},"Le Maître du jeu peut déplacer tous les pions")),o.default.createElement("p",{className:"question-text"},"Grâce au menu sur la gauche de l'écran :"),o.default.createElement("ul",{className:"question-ul"},o.default.createElement("li",{className:"question-ul-li"},"Vous savez qui est présent avec vous dans la partie"),o.default.createElement("li",{className:"question-ul-li"},"Vous affichez ou non un quadrillage sur la map"),o.default.createElement("li",{className:"question-ul-li"},"Le Maître de jeu peut créer de nouveaux pions et téléporter les joueurs sur une autre carte")))),g.map(function(e){return o.default.createElement(d.default,a({key:e.id},e))}),h&&o.default.createElement("div",{className:"screen-map-grid"}),o.default.createElement("img",{src:n,alt:"map",className:"screen-map-image"})),r&&o.default.createElement(m.default,null))}}]),t}();v.propTypes={toggleScreen:l.default.func.isRequired,isBoard:l.default.bool.isRequired,map:l.default.string.isRequired,isMap:l.default.bool.isRequired,grid:l.default.bool.isRequired,characters:l.default.arrayOf(l.default.object.isRequired).isRequired,handleSlide:l.default.func.isRequired,isSlided:l.default.bool.isRequired,help:l.default.bool.isRequired,role:l.default.string.isRequired,shareDrawing:l.default.func.isRequired,togglePicker:l.default.func.isRequired,onChangeColor:l.default.func.isRequired,drawColor:l.default.string.isRequired,drawPicker:l.default.bool.isRequired,sendReset:l.default.func.isRequired},t.default=v},706:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(707)),o=r(79);var l=(0,a.connect)(function(e){return{userName:e.user.userName,role:e.user.role}},function(e,t){return{movePlayer:function(t){e((0,o.movePlayer)(t))},deletePlayer:function(){e((0,o.deletePlayer)(t))}}})(n.default);t.default=l},707:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(2)),o=i(r(3)),l=i(r(708)),u=r(709),c=i(r(12));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(710);var d=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.movePlayer=function(e){console.log(e,"EEE"),(0,a.props.movePlayer)(e)},s(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("Character loaded")}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.color,a=e.id,o=e.deletePlayer,i=e.coordX,s=e.coordY,d=e.userName,f=e.role;console.log(d,f);var p="dm"===f,m=t===d;console.log("bool :",m);var h=(0,c.default)("character-cursor",{"character-cursor-other":!m&&!p});return n.default.createElement(l.default,{onStop:this.movePlayer,bounds:"parent",position:{x:i,y:s},cancel:".character-cursor-other"},n.default.createElement("div",{className:"character"},n.default.createElement("div",{className:"character-nickname",style:{color:r}},t,p&&n.default.createElement(u.TiDelete,{className:"character-nickname-delete",onClick:o})),n.default.createElement("div",{className:h,id:a,style:{backgroundColor:r}})))}}]),t}();d.propTypes={movePlayer:o.default.func.isRequired,name:o.default.string.isRequired,id:o.default.string.isRequired,color:o.default.string.isRequired,deletePlayer:o.default.func.isRequired,coordX:o.default.number.isRequired,coordY:o.default.number.isRequired,userName:o.default.string.isRequired,role:o.default.string.isRequired},t.default=d},710:function(e,t,r){},712:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:1,name:"auberge",url:"http://medievalshop.com/parchemin/wp-content/uploads/2013/02/Plan-FG2-Auberge-des-3-anneaux-%C3%A9tage-de-nuit.jpg"},{id:2,name:"armurerie",url:"http://medievalshop.com/parchemin/wp-content/uploads/2013/02/Armurerie1.jpg"},{id:3,name:"prison",url:"http://medievalshop.com/parchemin/wp-content/uploads/2013/08/La-prison.jpg"},{id:4,name:"laboratoire",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/03/un-laboratoire-souterrain.jpg"},{id:5,name:"quais",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/05/Les-quais.jpg"},{id:6,name:"temple",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/05/temple-de-iomedae.jpg"},{id:7,name:"desert",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/05/temp%C3%AAte-de-sable.jpg"},{id:8,name:"forge",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/04/La-forge1200x10001.jpg"},{id:9,name:"taverne",url:"http://4.bp.blogspot.com/-YCn-yY_Wt-c/UtME0OoI_FI/AAAAAAAADOY/1IeqF92KSLU/s800/DungeonZ+-+The+city+-+Overlays-+The+Prancing+Dragon+Tavern.jpg"}]},713:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(714)),o=r(79);var l=(0,a.connect)(function(e){return{grid:e.gameScreen.grid,role:e.user.role,boardAvailable:e.board.boardAvailable}},function(e){return{toggleScreen:function(){e((0,o.toggleScreen)())},toggleGrid:function(){e((0,o.toggleGrid)())}}})(n.default);t.default=l},714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(2)),o=i(r(3)),l=i(r(12)),u=i(r(715)),c=r(782);function i(e){return e&&e.__esModule?e:{default:e}}r(786);var s=(0,c.createMuiTheme)({palette:{primary:{main:"#3f7a5d"}}}),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("switch map loaded")}},{key:"render",value:function(){var e=this.props,t=e.toggleScreen,r=e.toggleGrid,a=e.grid,o=e.role,i=e.boardAvailable,d=(0,l.default)("mapSwitch-button",{"mapSwitch-button--notAMj":"dm"!==o});return n.default.createElement("form",{className:"mapSwitch"},i?(console.log("board true"),n.default.createElement("button",{type:"button",className:d,onClick:t},"Switch to Board")):(console.log("board false"),n.default.createElement("button",{type:"button",disabled:"dm"!==o,className:d,onClick:t},"Switch to Board")),n.default.createElement(c.MuiThemeProvider,{theme:s},n.default.createElement(u.default,{type:"checkbox",id:"check",name:"check",color:"primary",className:"mapSwitch-checkbox",onChange:r,checked:a}),n.default.createElement("span",null,"Quadrillage")))}}]),t}();d.propTypes={toggleScreen:o.default.func.isRequired,toggleGrid:o.default.func.isRequired,grid:o.default.bool.isRequired,role:o.default.string.isRequired,boardAvailable:o.default.bool.isRequired},t.default=d},786:function(e,t,r){},788:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(789)),o=r(79);var l=(0,a.connect)(function(e){return{color:e.gameScreen.color,toggle:e.gameScreen.toggle,typingName:e.gameScreen.typingName,maps:e.gameScreen.maps}},function(e){return{togglePicker:function(){e((0,o.togglePicker)())},onChangeColor:function(t){e((0,o.changeColor)(t))},createPlayer:function(){e((0,o.createPlayer)())},onInputChange:function(t){e((0,o.changeInput)(t))},onDisplayPlayer:function(t){e((0,o.movePlayer)(t))},changeMap:function(t){e((0,o.changeMap)(t))}}})(n.default);t.default=l},789:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=u(r(2)),o=u(r(3)),l=r(234);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(790);var i=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){(0,a.props.onInputChange)(e.target.value)},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.createPlayer)()},a.changeColor=function(e){var t=a.props,r=t.onChangeColor,n=t.togglePicker;r(e.hex),n()},a.handleMap=function(e){var t=a.props.changeMap;console.log(e.target.value),t(e.target.value)},c(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("switch MJ loaded")}},{key:"render",value:function(){var e=this.props,t=e.togglePicker,r=e.color,a=e.toggle,o=e.typingName,u=e.maps;return n.default.createElement("div",{className:"mjSwitch"},a&&n.default.createElement(l.CirclePicker,{className:"mjSwitch-picker",color:r,circleSize:17,circleSpacing:10,width:"170px",onChange:this.changeColor,triangle:"hide"}),n.default.createElement("form",{className:"mjSwitch-form",onSubmit:this.handleSubmit},n.default.createElement("button",{className:"mjSwitch-form-pick",type:"button",style:{backgroundColor:r},onClick:t}," "),n.default.createElement("input",{className:"mjSwitch-form-input",type:"text",placeholder:"Nom du pion",onChange:this.handleChange,value:o}),n.default.createElement("input",{className:"mjSwitch-form-button",type:"submit",value:"+"})),n.default.createElement("form",{id:"mapSelect",className:"mjSwitch-mapForm"},n.default.createElement("span",null,"Carte : "),n.default.createElement("select",{id:"monselect",className:"mjSwitch-mapForm-select",form:"mapSelect",onChange:this.handleMap},u.map(function(e){return n.default.createElement("option",{className:"mjSwitch-mapForm-select-option",key:e.id,value:e.url},e.name)}))))}}]),t}();i.propTypes={togglePicker:o.default.func.isRequired,onChangeColor:o.default.func.isRequired,onInputChange:o.default.func.isRequired,color:o.default.string.isRequired,toggle:o.default.bool.isRequired,typingName:o.default.string,createPlayer:o.default.func.isRequired,maps:o.default.arrayOf(o.default.object.isRequired).isRequired,changeMap:o.default.func.isRequired},i.defaultProps={typingName:""},t.default=i},79:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.leaveBoard=t.changeMap=t.handleSlide=t.deletePlayer=t.receiveMap=t.receiveChar=t.autoReceivePlayer=t.receiveDelete=t.receiveMove=t.movePlayer=t.updateChars=t.autoAddPlayer=t.createPlayer=t.changeInput=t.changeColor=t.togglePicker=t.toggleGrid=t.toggleScreen=t.AUTO_RECEIVE=t.AUTO_PLAYER=t.CHANGE_MAP=t.DELETE_PLAYER=t.MOVE_PLAYER=t.CREATE_PLAYER=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o={maps:function(e){return e&&e.__esModule?e:{default:e}}(r(712)).default,isBoard:!1,map:"http://medievalshop.com/parchemin/wp-content/uploads/2013/02/Plan-FG2-Auberge-des-3-anneaux-%C3%A9tage-de-nuit.jpg",isMap:!0,grid:!0,color:"#4caf50",toggle:!1,isSlided:!1,cpt:1,cptX:30,cptY:100,name:"",typingName:"",characters:[]};console.log(o.characters);var l=t.CREATE_PLAYER="CREATE_PLAYER",u=t.MOVE_PLAYER="MOVE_PLAYER",c=t.DELETE_PLAYER="DELETE_PLAYER",i=t.CHANGE_MAP="CHANGE_MAP",s=t.AUTO_PLAYER="AUTO_PLAYER",d=t.AUTO_RECEIVE="AUTO_RECEIVE";t.toggleScreen=function(){return{type:"TOGGLE_SCREEN"}},t.toggleGrid=function(){return{type:"TOGGLE_GRID"}},t.togglePicker=function(){return{type:"TOGGLE_PICKER"}},t.changeColor=function(e){return{type:"CHANGE_COLOR",value:e}},t.changeInput=function(e){return{type:"INPUT_CHAR_CHANGE",value:e}},t.createPlayer=function(){return{type:l}},t.autoAddPlayer=function(e){return{type:s,char:e}},t.updateChars=function(e){return{type:"UPDATE_CHARS",value:e}},t.movePlayer=function(e){return{type:u,value:e}},t.receiveMove=function(e){return{type:"RECEIVE_MOVE",characters:e}},t.receiveDelete=function(e){return{type:"RECEIVE_DELETE",characters:e}},t.autoReceivePlayer=function(e){return{type:d,autoChar:e}},t.receiveChar=function(e){return{type:"RECEIVE_CHAR",newChar:e}},t.receiveMap=function(e){return{type:"RECEIVE_MAP",newMap:e}},t.deletePlayer=function(e){return{type:c,value:e}},t.handleSlide=function(){return{type:"HANDLE_SLIDE"}},t.changeMap=function(e){return{type:i,value:e}},t.leaveBoard=function(){return{type:"LEAVE_BOARD"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TOGGLE_SCREEN":return a({},e,{isBoard:!e.isBoard,isMap:!e.isMap});case"HANDLE_SLIDE":return a({},e,{isSlided:!e.isSlided});case"TOGGLE_GRID":return a({},e,{grid:!e.grid});case"TOGGLE_PICKER":return a({},e,{toggle:!e.toggle});case"CHANGE_COLOR":return a({},e,{color:t.value});case"RECEIVE_MAP":return a({},e,{map:t.newMap});case d:console.log("state characters :",e.characters),console.log("auto char :",t.autoChar);var r=e.characters.filter(function(e){return e.name!==t.autoChar.name});return a({},e,{characters:[].concat(n(r),[t.autoChar])});case"RECEIVE_CHAR":return console.log("NEW CHAR REDUCER :",t.newChar),a({},e,{characters:[].concat(n(e.characters),[t.newChar])});case"INPUT_CHAR_CHANGE":return a({},e,{typingName:t.value});case"RECEIVE_MOVE":console.log("receive move action :",t.characters);var l=e.characters.filter(function(e){return e.id!==t.characters.id});return console.log("FILTERED :",l),a({},e,{characters:[].concat(n(l),[t.characters])});case"RECEIVE_DELETE":var u=e.characters.filter(function(e){return e.id!==t.characters[0].id});return a({},e,{characters:[].concat(n(u))});case"LEAVE_BOARD":return a({},e,{isBoard:!1,isMap:!0});default:return e}}},790:function(e,t,r){},792:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(793)),o=r(125);var l=(0,a.connect)(function(e){return{drawColor:e.board.drawColor,drawing:e.board.drawing,eventStream:e.board.eventStream,eventStore:e.board.eventStore,boardAvailable:e.board.boardAvailable,role:e.user.role}},function(e){return{shareDrawing:function(){e((0,o.shareDrawing)())}}})(n.default);t.default=l},793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=c(r(2)),o=c(r(3)),l=r(284),u=c(r(12));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(794);var s=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.requestColorChange=function(){var e=a.props,t=e.eventStream,r=e.drawColor;t.changeStrokeColor(r),console.log("event stream? ",t)},i(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("board loaded")}},{key:"render",value:function(){var e=this.props,t=e.drawing,r=e.eventStore,a=e.eventStream,o=e.role,c=(0,u.default)("board",{"board--notAMj":"dm"!==o});return console.log(t?"start drawing":"stop drawing"),n.default.createElement("div",{className:c,onClick:this.requestColorChange},n.default.createElement(l.Whiteboard,{events:a,eventStore:r,width:"100%",height:"100%",style:{backgroundColor:"lightyellow",color:"blue"}}))}}]),t}();s.propTypes={drawColor:o.default.string.isRequired,drawing:o.default.bool.isRequired,eventStream:o.default.object.isRequired,eventStore:o.default.object.isRequired,role:o.default.string.isRequired},t.default=s},794:function(e,t,r){},796:function(e,t,r){},798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(799));var o=(0,a.connect)(function(e){return{dice:e.actionBar.dice,sheet:e.actionBar.sheet,help:e.actionBar.help}},{})(n.default);t.default=o},799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=s(r(2)),o=s(r(3)),l=r(77),u=s(r(78)),c=s(r(800)),i=s(r(861));function s(e){return e&&e.__esModule?e:{default:e}}r(865);var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("Panel loaded")}},{key:"render",value:function(){var e=this.props,t=e.dice,r=e.sheet,a=e.help;return n.default.createElement("div",{className:"panel"},t&&n.default.createElement(c.default,null),r&&n.default.createElement(i.default,null),a&&n.default.createElement("div",{className:"toolTip"},n.default.createElement(l.FaQuestionCircle,{"data-tip":"panel-tooltip","data-for":"panel-tooltip",className:"question"}),n.default.createElement(u.default,{id:"panel-tooltip",place:"left",type:"dark",effect:"float",border:!0},n.default.createElement("p",{className:"question-text"},"Dés"),n.default.createElement("ul",{className:"question-ul"},n.default.createElement("li",{className:"question-ul-li"},"Tapez 1D20 pour lancer 1 dé à 20 faces"),n.default.createElement("li",{className:"question-ul-li"},"2D6 pour lancer 2 dés à 6 faces"),n.default.createElement("li",{className:"question-ul-li"},"Le résultat du lancer sera automatiquement partagé dans le chat"),n.default.createElement("li",{className:"question-ul-li"},"Le Maître du jeu choisit ou non de partager son lancer")),n.default.createElement("p",{className:"question-text"},"Fiche personnage"),n.default.createElement("ul",{className:"question-ul"},n.default.createElement("li",{className:"question-ul-li"},"Votre fiche personnage est sauvegardée dès lors que vous cliquez en dehors de la zone de texte"),n.default.createElement("li",{className:"question-ul-li"},"Vous allez la retrouver dans la prochaine partie à laquelle vous participerez")))))}}]),t}();d.propTypes={dice:o.default.bool.isRequired,sheet:o.default.bool.isRequired,help:o.default.bool.isRequired},t.default=d},800:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(801)),o=r(126);var l=(0,a.connect)(function(e){return{diceValue:e.dice.diceValue,rolled:e.dice.rolled,role:e.user.role}},function(e){return{rollDice:function(t,r){e((0,o.rollDice)(t,r))},diceChange:function(t){e((0,o.diceChange)(t))},diceShare:function(){e((0,o.diceShare)())}}})(n.default);t.default=l},801:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=s(r(2)),o=s(r(3)),l=s(r(78)),u=r(77),c=s(r(12)),i=s(r(802));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(859);var f=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.roll=function(e){var t=e.split(/d|D/)[0],r=e.split(/d|D/)[1],a=0;if(t<1&&(t=1),Number.parseFloat(t)&&Number.parseFloat(r)&&r>"0"){for(var n=0;n<t;n+=1)a+=Math.floor(Math.random()*r)+1;return a}return"wrong"},a.critic=function(e,t){var r=t.split(/d|D/)[0],a=Number(t.split(/d|D/)[1]);if(console.log("NUMBER OF SIDES",a),20===a||100===a){if(console.log("SIDES FILTERED",a),r>1)return"no";var n=r*a,o=Math.floor(.05*n),l=Math.floor(n-.05*n);if(e<=o)return"success";if(e>l)return"failed"}return"no"},a.handleSubmit=function(e){e.preventDefault();var t=a.props,r=t.rollDice,n=t.diceValue,o=a.roll(n),l=a.critic(o,n);console.log(l,"CRITIC FUNC"),r(o,l)},a.diceChange=function(e){(0,a.props.diceChange)(e.target.value)},a.shareRoll=function(){(0,a.props.diceShare)()},d(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.role;console.log("Dice cDM",e)}},{key:"render",value:function(){var e=this.props,t=e.diceValue,r=e.rolled,a=e.role,o=(0,c.default)("dice-block-tooltip",{"dice-block-tooltip-error":"wrong"===r});return n.default.createElement("div",{className:"dice"},n.default.createElement("img",{className:"dice-img",src:"https://nsa39.casimages.com/img/2018/08/28//180828112248528392.png",alt:"some roleplay dices"}),n.default.createElement("div",{className:"dice-block"},n.default.createElement("form",{className:"dice-block-form",autoComplete:"off",onSubmit:this.handleSubmit},n.default.createElement(u.FaInfoCircle,{className:o,"data-tip":"React-tooltip"}),n.default.createElement(l.default,{place:"left",type:"dark",effect:"float",border:!0},n.default.createElement("p",{className:"dice-block-tooltip-text"},"Pour lancer un dé, il vous faut écrire sous cette forme xDy où :"),n.default.createElement("ul",{className:"dice-block-tooltip-ul"},n.default.createElement("li",{className:"dice-block-tooltip-ul-li"},"x correspond au nombre de dés à lancer"),n.default.createElement("li",{className:"dice-block-tooltip-ul-li"},"D est le séparateur"),n.default.createElement("li",{className:"dice-block-tooltip-ul-li"},"y le nombre de face pour les dés à lancer")),n.default.createElement("p",{className:"dice-block-tooltip-text"},"Par exemple, la commande 2D100 revient à lancer deux dés à cent faces")),n.default.createElement(i.default,{label:"Jeter les dés",placeholder:"ex : 1d20",onChange:this.diceChange,value:t,className:"dice-block-input"}),n.default.createElement("button",{type:"submit",className:"dice-block-roll",value:"Roll"},"Roll")),"wrong"===r&&n.default.createElement("p",{className:"dice-block-result"},"Dans votre empressement vous jetez les dés en dehors du plateau... "),r&&"wrong"!==r&&n.default.createElement("p",{className:"dice-block-result"},"Vous avez tiré un ",r),"dm"===a&&n.default.createElement("button",{type:"button",className:"dice-block-share",onClick:this.shareRoll},"Partager")))}}]),t}();f.propTypes={rollDice:o.default.func.isRequired,diceShare:o.default.func.isRequired,diceChange:o.default.func.isRequired,role:o.default.string,diceValue:o.default.string,rolled:o.default.oneOfType([o.default.string,o.default.number])},f.defaultProps={diceValue:"",rolled:"",role:""},t.default=f},859:function(e,t,r){},861:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(862)),o=r(92);var l=(0,a.connect)(function(e){return{charSheet:e.user.charSheet,sheetId:e.user.sheetId,userName:e.user.userName,loading:e.user.loading,success:e.user.success,showRequestStatus:e.user.showRequestStatus}},function(e){return{sheetChange:function(t){e((0,o.sheetChange)(t))},sheetUpdate:function(t){e((0,o.sheetUpdate)(t))}}})(n.default);t.default=l},862:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=u(r(2)),o=u(r(3)),l=r(77);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(863);var i=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){(0,a.props.sheetChange)(e.target.value)},a.focusLeave=function(e){var t=a.props.sheetUpdate;console.log("ON FOCUS OUT",e.target.value),t(e.target.value)},c(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("Sheet loaded");var e=this.props.userName;console.log("ICI MARION, USERNAME, ICI",e)}},{key:"render",value:function(){var e=this.props,t=e.charSheet,r=e.userName,a=e.success,o=e.loading,u=e.showRequestStatus;return n.default.createElement("div",{className:"sheet"},n.default.createElement("div",{className:"sheet-axios"},u&&n.default.createElement("div",null,o&&n.default.createElement("div",null," ",n.default.createElement(l.FaHourglassEnd,null)," "),!o&&n.default.createElement("div",null,a&&n.default.createElement("div",{className:"sheet-axios-success"}," ",n.default.createElement(l.FaCheck,null)," "),!a&&n.default.createElement("div",{className:"sheet-axios-error"}," ",n.default.createElement(l.FaTimes,null)," ")))),n.default.createElement("p",{className:"sheet-name"},r),n.default.createElement("textarea",{id:"sheet-id",type:"text",className:"sheet-character",placeholder:"feuille personnage",onChange:this.handleChange,value:t,onBlur:this.focusLeave}))}}]),t}();i.propTypes={charSheet:o.default.string.isRequired,userName:o.default.string.isRequired,sheetChange:o.default.func.isRequired,sheetUpdate:o.default.func.isRequired,success:o.default.bool.isRequired,loading:o.default.bool.isRequired,showRequestStatus:o.default.bool.isRequired},t.default=i},863:function(e,t,r){},865:function(e,t,r){},867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(868)),o=r(188);var l=(0,a.connect)(function(e){return{help:e.actionBar.help}},function(e){return{showHelp:function(){e((0,o.showHelp)())}}})(n.default);t.default=l},868:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(2)),n=l(r(3)),o=l(r(78));function l(e){return e&&e.__esModule?e:{default:e}}r(869);var u=function(e){var t=e.help,r=e.showHelp;return a.default.createElement("div",{className:"logo"},t&&a.default.createElement("div",{onClick:r,className:"help-over"},a.default.createElement("div",{id:"kcolconeb","data-for":"kcolconeb-tooltip","data-tip":"kcolconeb-tooltip"},a.default.createElement(o.default,{id:"kcolconeb-tooltip",place:"left",type:"dark",effect:"float",border:!0},a.default.createElement("p",{className:"question-text"},"Grand Archimage ",a.default.createElement("span",{className:"kcolconeb-name"},"Kcolconeb ")," :"),a.default.createElement("p",{className:"question-text-dialog"},a.default.createElement("div",{className:"question-text-parag"},"Las de ne pas comprendre ce que vous faites ici, vous décidez de vous tourner vers un étrange homme qui semble… léviter au-dessus du sol. Vous ne pouvez pas vraiment discerner son visage à cause de son impressionnante barbe, de la capuche qui lui recouvre la tête et de l’énorme livre intitulé Rituels de Transmutation et Fusion Magique qui semble l’avoir complètement captivé."),a.default.createElement("div",{className:"question-text-parag"},"« Mmmmh ? L’Archimage Kcolconeb ? Oui, c’est moi, pourquoi ? » fait-il en levant un regard curieux vers vous. « Vous êtes perdu ? Ah. » Ses sourcils se froncent. « C’est embêtant, voyez-vous, j’adorerais vous faire un petit tour du propriétaire, mais j’ai un petit problème de… maléfice à régler, » dit-il en désignant sa barbe qui, maintenant que vous la regardez de plus près, semble s’allonger sans s’arrêter."),a.default.createElement("div",{className:"question-text-parag"},"« Ne vous en faites pas, je reste l’Archimage après tout ! » s’exclame-t-il avant de faire de grands gestes avec ses mains. « Voilà, suivez les marqueurs en forme de ? ils vous expliqueront tout ce que vous devez savoir ! » Il vous adresse un sourire encourageant, avant de se raviser."),a.default.createElement("div",{className:"question-text-parag"},"« Oh, cependant, évitez l’aile Ouest, nous avons un petit souci de-- » Il s’ébroue. « Rien de bien important, allez, filez ! Et bonne aventure ! »"))))))};u.propTypes={help:n.default.bool.isRequired,showHelp:n.default.func.isRequired},t.default=u},869:function(e,t,r){},871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(872)),o=r(188);var l=(0,a.connect)(function(e){return{help:e.actionBar.help}},function(e){return{doSomething:function(){e((0,o.doSomething)())},showDice:function(){e((0,o.showDice)())},showSheet:function(){e((0,o.showSheet)())},showHelp:function(){e((0,o.showHelp)())}}})(n.default);t.default=l},872:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=c(r(2)),o=c(r(3)),l=r(77),u=c(r(78));function c(e){return e&&e.__esModule?e:{default:e}}r(873);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("ActionBar loaded")}},{key:"render",value:function(){var e=this.props,t=e.showDice,r=e.showSheet,a=e.showHelp,o=e.help;return n.default.createElement("div",{className:"actionBar"},o&&n.default.createElement("div",{className:"toolTip"},n.default.createElement(l.FaQuestionCircle,{"data-tip":"ActionBar-tooltip","data-for":"ActionBar-tooltip",className:"question"}),n.default.createElement(u.default,{id:"ActionBar-tooltip",place:"left",type:"dark",effect:"float",border:!0},n.default.createElement("p",{className:"question-text"},"Boutons :"),n.default.createElement("ul",{className:"question-ul"},n.default.createElement("li",{className:"question-ul-li"},"Dés affiche l'interface de jets de dés"),n.default.createElement("li",{className:"question-ul-li"},"Fiche vous permet de consulter et modifier votre fiche de personnage"),n.default.createElement("li",{className:"question-ul-li"},"Cliquez sur Help à tout moment pour obtenir toutes les informations nécessaires")))),n.default.createElement(l.FaUserTie,{className:"actionBar-mj"}),n.default.createElement("div",{className:"actionBar-table"},n.default.createElement("button",{onClick:t,type:"button",className:"actionBar-table-dice"},"DÉS"),n.default.createElement("button",{onClick:r,type:"button",className:"actionBar-table-sheet"},"FICHE"),n.default.createElement("button",{onClick:a,type:"button",className:"actionBar-table-help"},"HELP")),n.default.createElement("div",{className:"actionBar-player"},n.default.createElement(l.FaChessPawn,{className:"actionBar-player-1"}),n.default.createElement(l.FaChessPawn,{className:"actionBar-player-2"}),n.default.createElement(l.FaChessPawn,{className:"actionBar-player-3"}),n.default.createElement(l.FaChessPawn,{className:"actionBar-player-4"})))}}]),t}();i.propTypes={showDice:o.default.func.isRequired,showSheet:o.default.func.isRequired,showHelp:o.default.func.isRequired,help:o.default.bool.isRequired},t.default=i},873:function(e,t,r){},875:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(2)),n=l(r(876)),o=l(r(882));function l(e){return e&&e.__esModule?e:{default:e}}r(887);t.default=function(){return a.default.createElement("div",{className:"chat"},a.default.createElement(o.default,null),a.default.createElement(n.default,null))}},876:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(877)),o=r(189);var l=(0,a.connect)(function(e){return{message:e.textInput.message}},function(e){return{onInputChange:function(t){e((0,o.changeInput)(t))},onAddMessage:function(){e((0,o.addMessage)())}}})(n.default);t.default=l},877:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=l(r(2)),o=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(878);var c=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){(0,a.props.onInputChange)(e.target.value)},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onAddMessage)()},u(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"render",value:function(){var e=this.props.message;return n.default.createElement("div",{className:"form"},n.default.createElement("form",{autoComplete:"off",onSubmit:this.handleSubmit},n.default.createElement("input",{className:"form-input",type:"text",placeholder:"Votre message",value:e,onChange:this.handleChange})))}}]),t}();c.propTypes={message:o.default.string,onInputChange:o.default.func.isRequired,onAddMessage:o.default.func.isRequired},c.defaultProps={message:""},t.default=c},878:function(e,t,r){},882:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),n=function(e){return e&&e.__esModule?e:{default:e}}(r(883));var o=(0,a.connect)(function(e){return{messages:e.textInput.messages,help:e.actionBar.help}},{})(n.default);t.default=o},883:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(2)),o=i(r(3)),l=i(r(12)),u=r(77),c=i(r(78));function i(e){return e&&e.__esModule?e:{default:e}}r(884);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidUpdate",value:function(){this.messageDiv.scrollTo(0,this.messageDiv.scrollHeight)}},{key:"render",value:function(){var e=this,t=this.props,r=t.messages,a=t.help;return console.log(r,"ALL MESSAGES"),n.default.createElement("div",{ref:function(t){e.messageDiv=t},className:"messages"},a&&n.default.createElement("div",{className:"toolTip"},n.default.createElement(u.FaQuestionCircle,{"data-tip":"Messages-tooltip","data-for":"Messages-tooltip",className:"question"}),n.default.createElement(c.default,{id:"Messages-tooltip",place:"left",type:"dark",effect:"float",border:!0},n.default.createElement("p",{className:"question-text"},"Messagerie"),n.default.createElement("ul",{className:"question-ul"},n.default.createElement("li",{className:"question-ul-li"},"Vous pouvez utiliser le chat pour communiquer"),n.default.createElement("li",{className:"question-ul-li"},"Les lancers de dés s'afficheront ici"),n.default.createElement("li",{className:"question-ul-li"},"Affiche automatiquement les lancers critiques sur les D20 et D100")))),r.map(function(e){var t=(0,l.default)({"message-content-success":"success"===e.critic,"message-content-failed":"failed"===e.critic,"message-content-standart":"no"===e.critic});return console.log(e,"MESSAGE"),n.default.createElement("div",{className:"message",key:e.id},console.log(e,"mess in index.js"),e.message&&n.default.createElement("p",{className:"message-content"},e.author," ",e.message?e.message:e.dice),e.diceValue&&n.default.createElement("p",{className:"message-content"},e.author," a lancé un ",e.diceValue," et a obtenu un ",n.default.createElement("span",{className:t}," ",e.dice," ")))}))}}]),t}();s.propTypes={messages:o.default.array.isRequired,help:o.default.bool.isRequired},t.default=s},884:function(e,t,r){},887:function(e,t,r){},889:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(r(2));r(890);t.default=function(){return a.default.createElement("div",{className:"aether"})}},890:function(e,t,r){},892:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(133),n=u(r(893)),o=u(r(896)),l=u(r(924));function u(e){return e&&e.__esModule?e:{default:e}}var c=[];window.devToolsExtension&&c.push(window.devToolsExtension());var i=(0,a.applyMiddleware)(o.default,l.default),s=a.compose.apply(void 0,[i].concat(c)),d=(0,a.createStore)(n.default,s);t.default=d},893:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(133),n=f(r(188)),o=f(r(126)),l=f(r(79)),u=f(r(894)),c=f(r(189)),i=f(r(895)),s=f(r(92)),d=f(r(125));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.combineReducers)({actionBar:n.default,dice:o.default,gameScreen:l.default,sheet:u.default,textInput:c.default,messages:i.default,user:s.default,board:d.default});t.default=p},894:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n={};t.doSomething=function(){return{type:"DO_SOMETHING"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"DO_SOMETHING":return a({},e);default:return e}}},895:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n={};t.doSomething=function(){return{type:"DO_SOMETHING"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"DO_SOMETHING":return a({},e);default:return e}}},896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(295)),n=s(r(897)),o=r(92),l=r(125),u=r(189),c=r(126),i=r(79);function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,n.default)("localhost:3000");t.default=function(e){return function(t){return function(r){var n=e.getState();switch(r.type){case o.WEBSOCKET_CONNECT:d.emit("join",n.user,n.gameScreen.characters),d.on("send_message",function(t){console.log(t,"Mess in socket"),e.dispatch((0,u.receiveMessage)(t))}),d.on("add_token",function(t){console.log("token to add :",t),e.dispatch((0,i.autoAddPlayer)(t))}),d.on("receive_drawing",function(t){console.log("received drawing socket :",t),e.dispatch((0,l.receiveDrawing)(t))}),d.on("delete_token",function(t){e.dispatch((0,i.deletePlayer)(t))}),d.on("receive_auto",function(t){e.dispatch((0,i.autoReceivePlayer)(t))}),d.on("receive_add",function(t){console.log("new char received websocket :",t),e.dispatch((0,i.receiveChar)(t))}),d.on("receive_delete",function(t){console.log("action websocket :",t),e.dispatch((0,i.receiveDelete)(t))}),d.on("receive_move",function(t){e.dispatch((0,i.receiveMove)(t))}),d.on("receive_map",function(t){e.dispatch((0,i.receiveMap)(t))}),d.on("reset_drawing",function(){e.dispatch((0,l.resetDrawing)()),e.dispatch((0,i.leaveBoard)()),e.dispatch((0,l.disableButton)())});break;case u.ADD_MESSAGE:console.log(n.user.userName,"ADD MESSAGE");var s={};s.role=n.user.role,s.author=n.user.userName,s.message=n.textInput.message,d.emit("send_message",s);break;case c.ROLL_DICE:var f={};f.diceValue=n.dice.diceValue,f.role=n.user.role,f.author=n.user.userName,f.rolled=r.dice,f.critic=r.critic,console.log(f,"DICE IN SOCKET"),d.emit("roll_dice",f);break;case l.SHARE_DRAWING:var p,m;p=n.board.eventStore,m=n.board.eventStream,console.log("drawing object socket :",p.goodEvents,m),d.emit("share_drawing",p.goodEvents);break;case c.SHARE_DICE:console.log(n.user.userName,"ADD MESSAGE");var h={};h.diceValue=n.dice.diceValue,h.author=n.user.userName,h.rolled=n.dice.rolled,d.emit("share_dice",h);break;case i.MOVE_PLAYER:var g=n.gameScreen.characters.filter(function(e){return e.id===r.value.target.id}),v=n.gameScreen.characters.map(function(e){return console.log("action.value.target.id",r.value.target.id),e.id===r.value.target.id&&(console.log("old coords :",e.coordX,e.coordY),e.coordX=r.value.layerX-r.value.offsetX,e.coordY=r.value.layerY-r.value.offsetY,console.log("new coords :",e.coordX,e.coordY)),e});console.log("moved char ",g[0]),console.log("movedchars ",v),d.emit("move_player",g[0]);break;case i.CREATE_PLAYER:if(n.gameScreen.characters.length<=20){console.log(n.gameScreen.characters.length);var E={id:(0,a.default)(),name:n.gameScreen.typingName,color:n.gameScreen.color,coordX:n.gameScreen.cptX,coordY:n.gameScreen.cptY};n.gameScreen.cptY>=250&&(n.gameScreen.cptY=30,n.gameScreen.cptX+=70),n.gameScreen.cptY+=70;var b=n.gameScreen.characters.filter(function(e){return e.name.startsWith(E.name)});b.length>=1&&(E.name=E.name+"#"+(b.length+1),console.log("compare :",b)),E.name.startsWith("#")&&(E.name="Opponent#"+n.gameScreen.cpt,n.gameScreen.cpt+=1),console.log("NEW CHAR SOCKET :",E),d.emit("add_player",E)}break;case i.AUTO_PLAYER:var y={id:(0,a.default)(),name:n.user.userName,color:n.gameScreen.color,coordX:n.gameScreen.cptX,coordY:n.gameScreen.cptY};n.gameScreen.cptY>=380&&(n.gameScreen.cptY=100,n.gameScreen.cptX+=70),n.gameScreen.cptY+=70,console.log("NEW AUTO CHAR SOCKET :",y),d.emit("auto_player",y);break;case i.DELETE_PLAYER:var _=n.gameScreen.characters.filter(function(e){return e.id===r.value.id});console.log("charlol ",_),d.emit("delete_player",_);break;case i.CHANGE_MAP:console.log("socket action map : ",r.value),d.emit("change_map",r.value);break;case l.SEND_RESET:console.log("sending reset socket"),d.emit("send_reset")}t(r)}}}},92:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=document.getElementById("root"),o={userName:JSON.parse(n.dataset.name),role:n.dataset.role,sheetId:n.dataset.sheetid,roomId:n.dataset.room,selfId:n.dataset.playerid,charSheet:JSON.parse(n.dataset.sheet),tempSheet:"",showRequestStatus:!1,loading:!1,success:!1},l=t.AXIOS_LOADING="AXIOS_LOADING",u=t.AXIOS_LOADED="AXIOS_LOADED",c=t.SHEET_UPDATE="SHEET_UPDATE",i=t.SHEET_LOADED="SHEET_LOADED",s=t.SHEET_FAILED="SHEET_FAILED",d=t.WEBSOCKET_CONNECT="WEBSOCKET_CONNECT";t.doSomething=function(){return{type:"DO_SOMETHING"}},t.axiosLoading=function(){return{type:l}},t.axiosLoaded=function(){return{type:u}},t.sheetLoaded=function(){return{type:i}},t.sheetFailed=function(e){return{type:s,value:e}},t.sheetChange=function(e){return{type:"SHEET_CHANGE",value:e}},t.sheetUpdate=function(e){return{type:c,value:e}},t.websocketConnect=function(){return{type:d}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"DO_SOMETHING":case d:return a({},e);case"SHEET_CHANGE":return a({},e,{charSheet:t.value});case c:return a({},e,{tempSheet:t.value});case l:return a({},e,{showRequestStatus:!0,loading:!0});case u:return a({},e,{showRequestStatus:!1});case i:return a({},e,{loading:!1,success:!0});case s:return a({},e,{loading:!1,success:!1});default:return e}}},921:function(e,t){},924:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(r(925)),n=r(92);t.default=function(e){return function(t){return function(r){var o=e.getState();switch(r.type){case n.SHEET_UPDATE:o.user.tempSheet!==r.value?(console.log("AXIOS TRIGGERED"),e.dispatch((0,n.axiosLoading)()),a.default.post("/charactersheet/"+o.user.sheetId,r.value).then(function(t){console.log("AXIOS DONE",t),e.dispatch((0,n.sheetLoaded)()),setTimeout(function(){e.dispatch((0,n.axiosLoaded)())},1e3)}).catch(function(t){console.log(t),e.dispatch((0,n.sheetFailed)()),setTimeout(function(){e.dispatch((0,n.axiosLoaded)())},1e3)})):e.dispatch((0,n.axiosLoaded)())}t(r)}}}}});